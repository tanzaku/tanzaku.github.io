<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on tanzaku&#39;s blog</title>
    <link>https://tanzaku.github.io/post/</link>
    <description>Recent content in Posts on tanzaku&#39;s blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Wed, 28 Oct 2020 21:07:05 +0900</lastBuildDate>
    
	<atom:link href="https://tanzaku.github.io/post/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>C&#43;&#43;でLinux用のシングルバイナリを作成する</title>
      <link>https://tanzaku.github.io/post/fully_statically_link_in_c&#43;&#43;/</link>
      <pubDate>Wed, 28 Oct 2020 21:07:05 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/fully_statically_link_in_c&#43;&#43;/</guid>
      <description>Rustで作成する方法は検索すると多数出てくるが、C++の情報はあまり出てこなかったのでメモ。
radupopescu/musl-builderというdocker imageを使用してビルドすればいい。
makeやcmakeの入っているのでそれらを使ったビルドも可。
やってることはAlpine linuxで-staticオプションをつけてビルドしてるだけ。
docker run --rm -it -w /src -v $(pwd):/src radupopescu/musl-builder sh -c &amp;#34;g++ -static src/main.cpp -std=c++17 -O2&amp;#34; </description>
    </item>
    
    <item>
      <title>PyTorchで学習した結果をC&#43;&#43;から利用する(Linearレイヤーのみ)</title>
      <link>https://tanzaku.github.io/post/learn-pytorch-use-c&#43;&#43;/</link>
      <pubDate>Sat, 15 Aug 2020 21:48:39 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/learn-pytorch-use-c&#43;&#43;/</guid>
      <description>C++で作成したCPUで動作する麻雀AIに、機械学習モデルを組み込むため調査しました。
本記事ではLinear — PyTorch 1.6.0 documentationを使ったモデルで学習し、そのパラメータ(A,b)をC++で使用する方法を書きます。
構築するネットワーク class Net(torch.nn.Module): def __init__(self): super(Net, self).__init__() self.linear1 = torch.nn.Linear(32, 16) self.linear2 = torch.nn.Linear(16, 1) def forward(self, x): x = self.linear1(x) x = self.linear2(x) return x 学習 略
パラメータをファイルに出力 Linear型のAはweightというTensor型の変数になっており、bはbiasというTensor型の変数になっています。下記のようにするとTensor型のA,bからnumpyの生のデータを取り出しバイナリに出力することができます。
with open(&amp;#39;data/weight_row=16_col=32.bin&amp;#39;, mode=&amp;#39;wb&amp;#39;) as f: x = net.linear1.weight.to(&amp;#39;cpu&amp;#39;).detach().numpy() x.tofile(f) x = net.linear1.bias.to(&amp;#39;cpu&amp;#39;).detach().numpy() x.tofile(f) C++からの利用 この時Aのバイナリ中の要素の並びは下図のようになっているので、あとは普通にC++からバイナリファイルを読み込んで使用すれば良いです(詳しくはここを参照ください)</description>
    </item>
    
    <item>
      <title>2020 08 13 Diary</title>
      <link>https://tanzaku.github.io/post/2020-08-13-diary/</link>
      <pubDate>Fri, 14 Aug 2020 00:32:48 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/2020-08-13-diary/</guid>
      <description>少しずつ進める日常的なタスク
 麻雀AI ISUCON対策 lexerリファクタ 部屋の片付け 婚活 物件探し github.ioの自己紹介ページ書く（過去コンテストの話しとか忘れないように） 軽い筋トレ 業務に関することを自学 グラフ描画ライブラリの記事作成 マラソン復習  久しぶりの日記。 あまりにも説明するのが苦手なのでかなり危機感を持っているけど、これ改善するのかな。 とりあえず何もしないよりマシということでブログを継続していきたい。
今日は麻雀AIを進めた。とりあえず差分計算なしのNNで評価関数を作成中。学習はpytorchとか使おうかなと思ってるけど、pytorchで計算したモデルをC++から読み込む方法は要調査。
差分計算はその後。</description>
    </item>
    
    <item>
      <title>2020 08 05 Diary</title>
      <link>https://tanzaku.github.io/post/2020-08-05-diary/</link>
      <pubDate>Thu, 06 Aug 2020 01:02:04 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/2020-08-05-diary/</guid>
      <description>少しずつ進める日常的なタスク
 麻雀AI ISUCON対策 lexerリファクタ 部屋の片付け 分割キーボードの組み立て 婚活 物件探し github.ioの自己紹介ページ書く（過去コンテストの話しとか忘れないように） 軽い筋トレ 業務に関することを自学 グラフ描画ライブラリの記事作成 マラソン復習  マラソン終わった。がっつり真面目に参加したいなという気持ちあるけど、いつの日か。
麻雀AIとグラフ描画ライブラリの記事作成を進める。</description>
    </item>
    
    <item>
      <title>2020 08 04 Diary</title>
      <link>https://tanzaku.github.io/post/2020-08-04-diary/</link>
      <pubDate>Wed, 05 Aug 2020 00:15:10 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/2020-08-04-diary/</guid>
      <description>少しずつ進める日常的なタスク
 麻雀AI ISUCON対策 lexerリファクタ 部屋の片付け 分割キーボードの組み立て 婚活 物件探し github.ioの自己紹介ページ書く（過去コンテストの話しとか忘れないように） 軽い筋トレ 業務に関することを自学 mm119  麻雀AIが役判定をそれなりにやってからレートが上がってきた。</description>
    </item>
    
    <item>
      <title>2020 08 02 Diary</title>
      <link>https://tanzaku.github.io/post/2020-08-02-diary/</link>
      <pubDate>Mon, 03 Aug 2020 02:14:21 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/2020-08-02-diary/</guid>
      <description>少しずつ進める日常的なタスク
 麻雀AI ISUCON対策 lexerリファクタ 部屋の片付け 分割キーボードの組み立て 婚活 物件探し github.ioの自己紹介ページ書く（過去コンテストの話しとか忘れないように） 軽い筋トレ 業務に関することを自学 mm119  結局マラソンをやってしまった（公開）…改善の余地がありすぎるけどやる時間ないな。
MIU404がとても面白い。 感覚で動いているがいつも物事の本質をなぜか見抜く伊吹藍（綾野剛）と理詰で動く志摩一未（星野源）のコンビ。 星野源が徐々に綾野剛を認めていき、心を開かされていく姿が気持ちいい。</description>
    </item>
    
    <item>
      <title>2020 07 31 Diary</title>
      <link>https://tanzaku.github.io/post/2020-07-31-diary/</link>
      <pubDate>Sat, 01 Aug 2020 03:18:00 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/2020-07-31-diary/</guid>
      <description>少しずつ進める日常的なタスク
 麻雀AI ISUCON対策 lexerリファクタ 部屋の片付け 分割キーボードの組み立て 婚活 物件探し github.ioの自己紹介ページ書く（過去コンテストの話しとか忘れないように） 軽い筋トレ 業務に関することを自学 mm119  麻雀AIは、ジャッジを修正して役判定のバグを潰すようにしたい。 マラソンはやりたくないけど、うーんどうしよう。 最近はメンタル的にしんどい時期が続いてる。</description>
    </item>
    
    <item>
      <title>2020 07 29 Diary</title>
      <link>https://tanzaku.github.io/post/2020-07-29-diary/</link>
      <pubDate>Thu, 30 Jul 2020 01:16:16 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/2020-07-29-diary/</guid>
      <description>少しずつ進める日常的なタスク
 麻雀AI ISUCON対策 lexerリファクタ 部屋の片付け 分割キーボードの組み立て 婚活 物件探し github.ioの自己紹介ページ書く（過去コンテストの話しとか忘れないように） 軽い筋トレ 業務に関することを自学  麻雀AIの役判定のバグ修正と鳴きの処理の実装を進めた。</description>
    </item>
    
    <item>
      <title>2020 07 28 Diary</title>
      <link>https://tanzaku.github.io/post/2020-07-28-diary/</link>
      <pubDate>Wed, 29 Jul 2020 03:18:03 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/2020-07-28-diary/</guid>
      <description>少しずつ進める日常的なタスク
 麻雀AI ISUCON対策 lexerリファクタ 部屋の片付け 分割キーボードの組み立て 婚活 物件探し github.ioの自己紹介ページ書く（過去コンテストの話しとか忘れないように） 軽い筋トレ 業務に関することを自学  役の判定が動き始めた。それっぽく動いているので、実戦投入しつつデバッグ。点数計算については、実戦で見つけたバグは修正するがそれ以外は一旦終わりにして、とりあえずAIの改善を進める。まずはとにかく鳴くようにしてみる。
ISUCONツールはちょっとだけ進めた。まだ実装を進める段階ではなくて勉強してAPIを理解する段階。
でも新しい言語を学ぶと初心に帰れていい。今はGolangのお作法がよくわからない状態。</description>
    </item>
    
    <item>
      <title>2020 07 27 Diary</title>
      <link>https://tanzaku.github.io/post/2020-07-27-diary/</link>
      <pubDate>Tue, 28 Jul 2020 01:29:52 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/2020-07-27-diary/</guid>
      <description>少しずつ進める日常的なタスク
 麻雀AI ISUCON対策 lexerリファクタ 部屋の片付け 分割キーボードの組み立て 婚活 物件探し github.ioの自己紹介ページ書く（過去コンテストの話しとか忘れないように） 軽い筋トレ 業務に関することを自学  misc 今日もあざらしさんグッズをついに注文！
ツタヤで借りてた本を返した。
ライブリッツで枝豆購入。枝豆食べるの久しぶりなので楽しみ。
楽天証券に申し込んだ。何事もお勉強ということで株に手を出すぜ！
分割キーボード choco60買おうと思ったら売り切れていて笑った。テレビの影響？
半田吸い取り器を買ったけど使いこなすのが難しい。半田吸い取り線の方が使いやすそうだったのでそちらを注文した。
麻雀AI 役の判定に必要な情報が不足しているのでそれを追加中。 それが終わったら、鳴きの対応入れて、その後役判定のテストケースを作成する。
ISUCON対策 開発するツールの構想だけでも進めておきたい
明日やること  麻雀AIの実装  </description>
    </item>
    
    <item>
      <title>2020 07 26 Diary</title>
      <link>https://tanzaku.github.io/post/2020-07-26-diary/</link>
      <pubDate>Mon, 27 Jul 2020 01:39:17 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/2020-07-26-diary/</guid>
      <description>少しずつ進める日常的なタスク
 麻雀AI ISUCON対策 lexerリファクタ 部屋の片付け 分割キーボードの組み立て 婚活 物件探し github.ioの自己紹介ページ書く（過去コンテストの話しとか忘れないように） 軽い筋トレ 業務に関することを自学  misc 今日もあざらしさんグッズ買うの忘れてた。
分割キーボード choco60は買うことにした。分割キーボードにそれほど価値を感じているわけではないが、経験としての価値。
麻雀AI 役の実装を概ね実施した。 役の判定に必要な情報が不足しているのでそれを追加している。 それが終わったら、鳴きの対応入れて、その後役判定のテストケースを作成する。
ISUCON対策 開発するツールの構想だけでも進めておきたい
明日やること  あざらしさんグッズを買う 麻雀AIの実装  </description>
    </item>
    
    <item>
      <title>2020 07 25 Diary</title>
      <link>https://tanzaku.github.io/post/2020-07-25-diary/</link>
      <pubDate>Sun, 26 Jul 2020 02:36:46 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/2020-07-25-diary/</guid>
      <description>少しずつ進める日常的なタスク
 麻雀AI ISUCON対策 lexerリファクタ 部屋の片付け 分割キーボードの組み立て 婚活 物件探し github.ioの自己紹介ページ書く（過去コンテストの話しとか忘れないように） 軽い筋トレ 業務に関することを自学  misc 今日もあざらしさんグッズ買うの忘れてた。
分割キーボード アクリルボードを破壊して、無理やりTRRSジャックをハンダ付けし直したらうまくいった。
choco60を買うか否か
麻雀AI 役の実装をしている。重複しない役の判定を雑にすれば明日あたり実装できそう。
ISUCON対策 開発するツールの構想だけでも進めておきたい
明日やること  あざらしさんグッズを買う 麻雀AIの実装  </description>
    </item>
    
    <item>
      <title>2020 07 23 Diary</title>
      <link>https://tanzaku.github.io/post/2020-07-23-diary/</link>
      <pubDate>Fri, 24 Jul 2020 03:06:48 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/2020-07-23-diary/</guid>
      <description>少しずつ進める日常的なタスク
 麻雀AI ISUCON対策 lexerリファクタ 部屋の片付け 分割キーボードの組み立て 婚活 物件探し github.ioの自己紹介ページ書く（過去コンテストの話しとか忘れないように） 軽い筋トレ 業務に関することを自学  misc しまった、あざらしさんグッズ買うの忘れてた。
分割キーボード もうダメ
麻雀AI 中国麻雀の役の整理を継続して実施。派生形が多いから、まとめて整理するとそこまで大変ではなさそう。
ISUCON対策 開発するツールの構想だけでも進めておきたい
明日やること  あざらしさんグッズを買う 同時に成立しない役を確認して実装に入る  </description>
    </item>
    
    <item>
      <title>2020 07 22 Diary</title>
      <link>https://tanzaku.github.io/post/2020-07-22-diary/</link>
      <pubDate>Thu, 23 Jul 2020 02:12:23 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/2020-07-22-diary/</guid>
      <description>少しずつ進める日常的なタスク
 麻雀AI ISUCON対策 lexerリファクタ 部屋の片付け 分割キーボードの組み立て 婚活 物件探し github.ioの自己紹介ページ書く（過去コンテストの話しとか忘れないように） 軽い筋トレ 業務に関することを自学  分割キーボード キースイッチのハンダをとるのに失敗…
麻雀AI 中国麻雀の役の整理を始めた。麻雀AIは本質に行くまでが長すぎる…
婚活 ISUCON対策 開発するツールの構想だけでも進めておきたい</description>
    </item>
    
    <item>
      <title>2020 07 21 Diary</title>
      <link>https://tanzaku.github.io/post/2020-07-21-diary/</link>
      <pubDate>Wed, 22 Jul 2020 02:22:56 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/2020-07-21-diary/</guid>
      <description>少しずつ進める日常的なタスク
 麻雀AI ISUCON対策 lexerリファクタ 部屋の片付け 分割キーボードの組み立て 婚活 物件探し github.ioの自己紹介ページ書く（過去コンテストの話しとか忘れないように） 軽い筋トレ 業務に関することを自学  分割キーボード TRRSケーブルが届き自作キーボードがいよいよ使えるかと思ったが、PCと直接接続していない方のキーボードが反応しない。
おそらくTRRSジャックのハンダ不良だと思うが、キースイッチのハンダ付けをしてあるのでやり直すのが大変。
麻雀AI 中国麻雀の役の整理を始めた。麻雀AIは本質に行くまでが長すぎる…
婚活 4連休に入れていた予定が東京都の外出自粛が出たため流れるかも。
ISUCON対策 開発するツールの構想だけでも進めておきたい</description>
    </item>
    
    <item>
      <title>2020 07 20 Diary</title>
      <link>https://tanzaku.github.io/post/2020-07-20-diary/</link>
      <pubDate>Mon, 20 Jul 2020 23:12:36 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/2020-07-20-diary/</guid>
      <description>少しずつ進める日常的なタスク
 麻雀AI ISUCON対策 lexerリファクタ 部屋の片付け 分割キーボードの組み立て 婚活 物件探し github.ioの自己紹介ページ書く（過去コンテストの話しとか忘れないように） 軽い筋トレ 業務に関することを自学  ICFPCが終わったらしい。明らかに片手間でできる内容じゃなかったし手を出さなくてよかった。
眠いから今日は何もやらないで寝ます。おやすみ。</description>
    </item>
    
    <item>
      <title>2020 07 19 Diary</title>
      <link>https://tanzaku.github.io/post/2020-07-19-diary/</link>
      <pubDate>Mon, 20 Jul 2020 01:24:59 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/2020-07-19-diary/</guid>
      <description>少しずつ進める日常的なタスク
 麻雀AI ISUCON対策 lexerリファクタ 部屋の片付け 分割キーボードの組み立て 婚活 物件探し github.ioの自己紹介ページ書く（過去コンテストの話しとか忘れないように） 軽い筋トレ 業務に関することを自学  Choco60の組み立てが完了した。が、分割キーボード間をつなぐためのTRRSケーブルがないので使い始めるのはまだ先。
キーキャップが足りなくて余ったキーキャップを嵌めてるところがあって、ちょっと残念な感じになっている。
そのうち望みのキーキャップを買ってきちんと完成させたい。
明日からは業務に関することを毎日自学することにしようと検討中。
業務と自分の興味がずれているので仕方ない。</description>
    </item>
    
    <item>
      <title>2020 07 18 Diary</title>
      <link>https://tanzaku.github.io/post/2020-07-18-diary/</link>
      <pubDate>Sun, 19 Jul 2020 02:57:39 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/2020-07-18-diary/</guid>
      <description>少しずつ進める日常的なタスク
 麻雀AI ISUCON対策 lexerリファクタ 部屋の片付け 分割キーボードの組み立て 婚活 物件探し github.ioの自己紹介ページ書く（過去コンテストの話しとか忘れないように） 軽い筋トレ  Choco60の組み立てを開始した。家のニッパーいまいちだなーとかlube買い忘れてたなーとかあるけどなんとか進んでいる。半田が自信ない、短絡してないといいなあ。
婚活は気になってる人から連絡が来なくなってしまった。悲しい。</description>
    </item>
    
    <item>
      <title>2020 07 17 Diary</title>
      <link>https://tanzaku.github.io/post/2020-07-17-diary/</link>
      <pubDate>Fri, 17 Jul 2020 23:47:42 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/2020-07-17-diary/</guid>
      <description>少しずつ進める日常的なタスク
 麻雀AI ISUCON対策 lexerリファクタ 部屋の片付け 分割キーボードの組み立て 婚活 物件探し github.ioの自己紹介ページ書く（過去コンテストの話しとか忘れないように） 軽い筋トレ  今日はグダグダ。何もできなかった。麻雀AIを少しやって終わる予定。
今日からICFPCなのだけど、やる気出ないし、英語が辛いやつなのでやめた。
婚活がらみで約束のネバーランドを読み返してるけど、かなり忘れてるなあ。</description>
    </item>
    
    <item>
      <title>Rustからのプロセス起動時に fork: retry: Resource temporarily unavailable が発生した場合の対応メモ</title>
      <link>https://tanzaku.github.io/post/2020-07-10-rust-fork-retry-resource-temporarily-unavailable/</link>
      <pubDate>Fri, 10 Jul 2020 21:46:33 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/2020-07-10-rust-fork-retry-resource-temporarily-unavailable/</guid>
      <description>Rustで生存期間が短いプロセスを短時間で起動、終了を繰り返すプログラムを書いたところfork: retry: Resource temporarily unavailableというエラーが発生。
psコマンドで確認したところ&amp;lt;defunct&amp;gt;と書かれたゾンビプロセスが大量に残存していた。
waitでプロセスの終了を待つとゾンビプロセスは残存しなくなった。</description>
    </item>
    
    <item>
      <title>Create Blog</title>
      <link>https://tanzaku.github.io/post/2020-07-02-create-blog/</link>
      <pubDate>Thu, 02 Jul 2020 23:35:47 +0900</pubDate>
      
      <guid>https://tanzaku.github.io/post/2020-07-02-create-blog/</guid>
      <description>ブログ開始</description>
    </item>
    
  </channel>
</rss>